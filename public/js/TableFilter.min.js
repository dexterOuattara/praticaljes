function TableFilt(a){if($(a).attr("data-sort-ignore","true"),$(".FilterBox").length>=1)$(".FilterBox").is(":visible")?$(a).parent().find(".FilterBox").length>=1?($(".FilterBox").each(function(){$(".FilterBox").remove()}),$(a).parent().find(".FilterBox").show()):$(".FilterBox").each(function(){$(".FilterBox").remove()}):$(a).parent().find(".FilterBox").show();else{$(a).after($("<div class='FilterBox admin-form'></div>").html("<div class='mb5' style='height: 40px; background: #1fa7d4;'><h5 style='margin-top: 0px; color: white;'>Filter</h5></div><div class='section'><div class='option-group field'><label class='option'><input type='radio' value='Asec' class='FiltCheck' name='FiltCheckBox'><span class='radio'></span>A to Z</label><label class='option'><input type='radio' value='Desc' class='FiltCheck' name='FiltCheckBox'><span class='radio'></span>Z to A</label></div></div>"));var b=$(a).parent().attr("column-no");$(a).parent().find(".FilterBox").append("<div class='mb5' style='height: 40px; background: #1fa7d4;'><h5 style='margin-top: 0px; color: white;'>Values To Show</h5></div><div style='border-bottom: 1px solid #000;' class='text-center'><input style='width: 50%;height: 20px;'id='ValueFilter' type='text' class='mb5'></div><div id='ValueToShow' class='clt' style='max-height: 80px; overflow-y: scroll;'><ul><li><label class='option'><input type='checkbox' checked value='SelectAll' class='ValueSelectAll' name='SelectAllCheckBox'><span class='checkbox'></span>Select All</label></li></ul></div>"),$(a).parent().find(".FilterBox").append("<div><button onclick='SubmitFilt(this, "+b+")'>Submit</button></div>"),SearchValues(a,$(a).parent().find(".FilterBox")),$(".FilterBox").show()}$(".ValueSelectAll").click(function(){return!$(this).is("checked")&&void $(".ValueCheck").each(function(){$(this).prop("checked",!0)})}),$(".ValueCheck").click(function(){$(".ValueCheck:checked").length==$(".ValueCheck").length?$(".ValueSelectAll").prop("checked",!0):$(".ValueSelectAll").prop("checked",!1)})}function SearchValues(a,b){var c=$(a).parent().attr("column-no"),e=($(a).parent().parent().find(".FiltCheck:checked").val(),[]);for($(a).closest("table").find("tbody").find("tr").each(function(){for(var a=$(this),b=$(a).find("td:nth-child("+c+")").text(),d=!1,f=0;f<e.length;f++)e[f].name==b&&(d=!0);return 1==d||void e.push({name:b,body:a})}),e.sort(function(a,b){return a.name==b.name?0:a.name>b.name?1:-1}),i=0;i<e.length;i++){var f=$(b).find("#ValueToShow");$(f).children().append("<li><label class='option'><input type='checkbox' checked value="+e[i].name+" class='ValueCheck' name="+e[i].name+"CheckBox'><span class='checkbox'></span>"+e[i].name+"</label></li>")}$("#ValueFilter").keyup(function(){var b=$(this).val();SearchFilter(b,e,a)})}function SearchFilter(a,b,c){var d=[];for(i=0;i<b.length;i++){var e=b[i].name.replace("'","").toLowerCase(),e=e.replace(",","");e.indexOf(a.replace(" ","").toLowerCase())>-1&&d.push({name:b[i].name,body:b[i].body})}for($(c).parent().parent().find("#ValueToShow").children().html(""),$(c).parent().parent().find("#ValueToShow").children().append("<li><label class='option'><input type='checkbox' checked value='SelectAll' class='ValueCheck' name='SelectAllCheckBox'><span class='checkbox'></span>Select All</label></li>"),i=0;i<d.length;i++)$(c).parent().parent().find("#ValueToShow").children().append("<li><label class='option'><input type='checkbox' checked value="+d[i].name+" class='ValueCheck' name="+d[i].name+"CheckBox'><span class='checkbox'></span>"+d[i].name+"</label></li>")}function FilterValues(a){var b=[];$(a).parent().parent().find(".ValueCheck:checked").each(function(){var a=$(this).val();b.push(a)});var c=[],d=$(a).parent().parent().parent().attr("column-no");$(a).closest("table").find("tbody").find("tr").each(function(){var a=$(this),b=$(a).find("td:nth-child("+d+")").text();c.push({name:b,body:a})}),c.sort(function(a,b){return a.name==b.name?0:a.name>b.name?1:-1});var e=[],f=[];$(a).closest("table").find("tbody").html("");var g=$(a).closest("table").find("tbody");for(x=0;x<b.length;x++)for(i=0;i<c.length;i++)c[i].name.indexOf(b[x])>-1?f.push({body:c[i].body}):e.push({body:c[i].body});for(x=0;x<e.length;x++)$(g).append(e[x].body),$(e[x].body).hide();for(x=0;x<f.length;x++)$(g).append(f[x].body),$(f[x].body).show()}function SubmitFilt(a,b){FilterValues(a);var c=$(a).parent().parent().parent().find(".FiltCheck:checked").val(),d=[];for($(a).closest("table").find("tbody").find("tr").each(function(){var a=$(this),c=$(a).find("td:nth-child("+b+")").text();d.push({name:c,body:a})}),"Asec"==c?d.sort(function(a,b){return a.name==b.name?0:a.name>b.name?1:-1}):d.sort(function(a,b){return a.name==b.name?0:a.name<b.name?1:-1}),$(a).closest("table").find("tbody").html(""),i=0;i<d.length;i++){var e=$(a).closest("table").find("tbody");$(e).append(d[i].body)}}$(document).ready(function(){$(".TableHeadFilter").each(function(){$(this).append("<i class='fa ml5 fa-angle-down filterIcon'></i>"),$(".filterIcon").each(function(){$(this).attr("onclick","TableFilt(this)")})})});